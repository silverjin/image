!function t(e,n,r){function o(a,l){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return o(n||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=function(t){return void 0!==t},n=function(e){return t(e)&&(e instanceof String||"string"==typeof e)},o=function(e){return t(e)&&(e instanceof HTMLElement||e instanceof Window||e instanceof Document)};function i(t){if(!(this instanceof i))return new i(t);Object.defineProperty(this,"_dom",{value:o(t)?t:document.createElement("eh"),enumerable:!1}),Object.defineProperty(this,"_who",{value:t,enumerable:!1,writable:!1}),Object.defineProperty(this,"_events",{value:{},enumerable:!1,writable:!1})}i.on=function(t,e,n){if(t instanceof i)return t.on(e,n),i;if(!o(t))throw new Error("Invalid element: "+(void 0===t?"undefined":r(t)));return t._eventHandler=(t._eventHandler||new i(t)).on(e,n),i},i.off=function(t,e){if(t instanceof i)return t.on(e,func),i;if(!o(t))throw new Error("Invalid element: "+(void 0===t?"undefined":r(t)));return t._eventHandler=(t._eventHandler||new i(t)).off(e),i},i.trigger=function(t,e,n){if(t instanceof i)return t.on(e,func),i;if(!o(t))throw new Error("Invalid element: "+(void 0===t?"undefined":r(t)));return t._eventHandler=(t._eventHandler||new i(t)).trigger(e,n),i},i.prototype.on=function(e,o){var i=this;if(!n(e))throw new Error("Invalid types: "+(void 0===e?"undefined":r(e)));if(0===e.length)throw new Error("Illegal types");if(!(t(a=o)&&a instanceof Function))throw new Error("Invalid function: "+(void 0===o?"undefined":r(o)));var a;return o=o.bind(this._who),e.split(" ").forEach(function(t){i._dom.addEventListener(t.replace(/\..*$/,""),o),i._events[t]=i._events[t]||[],i._events[t].push(o)}),this},i.prototype.off=function(t){var e=this;if(!n(t))throw new Error("Invalid types: "+(void 0===t?"undefined":r(t)));if(0===t.length)throw new Error("Illegal types");return t.split(" ").forEach(function(t){var n=t.replace(/\..*$/,"");(e._events[t]||[]).forEach(function(t){return e._dom.removeEventListener(n,t)}),delete e._events[t]}),this},i.prototype.trigger=function(t,e){var o=this;if(!n(t))throw new Error("Invalid types: "+(void 0===t?"undefined":r(t)));if(0===t.length)throw new Error("Illegal types");return t.split(" ").forEach(function(t){if(t.replace(/^.*\.?/,""))(o._events[t]||[]).forEach(function(t){return t({detail:e})});else if(window.CustomEvent)o._dom.dispatchEvent(new CustomEvent(t,{detail:e}));else{var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,e),o._dom.dispatchEvent(n)}}),this},e.exports=i,self&&self instanceof Object&&self.self===self&&(self.EventHandler=i)}()},{}],2:[function(t,e,n){"use strict";!function(){var n=["topToBottom","rightToLeft","bottomToTop","leftToRight"],r=["topToTop","rightToRight","bottomToBottom","leftToLeft"],o=["xCenter","yCenter"],i="unattracted",a="magnetleave",l=["mousedown","touchstart"],u=["mousemove","touchmove"],f=["mouseup","mouseleave","touchend"],c="keydown",s="keyup",h=t("./lib/event-handler"),p=function(t){return void 0!==t},d=function(t){return p(t)&&!isNaN(t.top)&&!isNaN(t.right)&&!isNaN(t.bottom)&&!isNaN(t.left)&&t.top<t.bottom&&t.left<t.right&&(!p(t.x)||t.x===t.left)&&(!p(t.y)||t.y===t.top)&&(!p(t.width)||t.width===t.right-t.left)&&(!p(t.height)||t.height===t.bottom-t.top)},m=function(t){return p(t)&&(t instanceof HTMLElement||t instanceof Document||t instanceof Window)},b=function(t){return p(t)&&p(t.length)},g=function(t){return Object.keys(t)},y=function(t,e,n){return g(t).forEach(function(r){return e.call(n,t[r],r,t)})},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"magnet";return(b(t)?t:t.split(" ")).map(function(t){return t+(e?"."+e:"")}).join(" ")},w=function(t){return{x:(t=(t.touches||{})[0]||t).clientX,y:t.clientY}},E=function(t){return t.currentStyle||getComputedStyle(t)},_=function(t){return new function(t){var e=this,n=function(t){if(m(t)){var e=null,n=null;return t instanceof HTMLElement?(e={top:(e=t.getBoundingClientRect()).top,right:e.right,bottom:e.bottom,left:e.left},r=E(t),n={top:parseFloat(r.borderTopWidth),right:parseFloat(r.borderRightWidth),bottom:parseFloat(r.borderBottomWidth),left:parseFloat(r.borderLeftWidth)}):(e={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n={top:0,right:0,bottom:0,left:0}),e.top+=n.top,e.right-=n.right,e.bottom-=n.bottom,e.left+=n.left,e}if(d(t))return{top:t.top,right:t.right,bottom:t.bottom,left:t.left};throw new Error("Could NOT get rectangle");var r}(t);["top","right","bottom","left"].forEach(function(t){return Object.defineProperty(e,t,{value:n[t]})}),Object.defineProperty(this,"x",{value:this.left}),Object.defineProperty(this,"y",{value:this.top}),Object.defineProperty(this,"width",{value:this.right-this.left}),Object.defineProperty(this,"height",{value:this.bottom-this.top})}(t)},T=function t(){var e=[],n=function(t){-1===e.indexOf(t)&&e.push(t)};return Array.prototype.forEach.call(arguments,function(e){if(b(e))Array.prototype.forEach.call(e,function(e){(e=b(e)?t(e):[e]).forEach(function(t){if(!m(t))throw new Error("Invalid element");n(t)})});else{if(!m(e))throw new Error("Invalid element");n(e)}}),e},O=function(t){for(var e=t.parentElement;e;){if("static"!==E(e).position)return e;e=e.parentElement}return document};function x(t,e){var n=this;Object.defineProperty(this,"source",{value:Object.create(null),enumerable:!1}),Object.defineProperty(this,"target",{value:Object.create(null),enumerable:!1}),m(t)&&(this.source.element=t),m(e)&&(this.target.element=e),this.source.rect=t=_(t),this.target.rect=e=_(e),this.topToTop=Math.abs(t.top-e.top),this.topToBottom=Math.abs(t.top-e.bottom),this.rightToRight=Math.abs(t.right-e.right),this.rightToLeft=Math.abs(t.right-e.left),this.bottomToTop=Math.abs(t.bottom-e.top),this.bottomToBottom=Math.abs(t.bottom-e.bottom),this.leftToRight=Math.abs(t.left-e.right),this.leftToLeft=Math.abs(t.left-e.left),this.xCenter=Math.abs(.5*(t.right+t.left-e.right-e.left)),this.yCenter=Math.abs(.5*(t.top+t.bottom-e.top-e.bottom)),Object.defineProperty(this,"ranking",{value:g(this).sort(function(t,e){return n[t]-n[e]}),enumerable:!1}),Object.defineProperty(this,"min",{value:this.ranking[0],enumerable:!1}),Object.defineProperty(this,"max",{value:this.ranking[this.ranking.length-1],enumerable:!1})}function P(){Object.defineProperty(this,"_distance",{value:0,enumerable:!1,writable:!0}),Object.defineProperty(this,"_stayInParentElem",{value:!1,enumerable:!1,writable:!0}),Object.defineProperty(this,"_enabledAlignOuter",{value:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"_enabledAlignInner",{value:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"_enabledAlignCenter",{value:!0,enumerable:!1,writable:!0}),Object.defineProperty(this,"_targets",{value:[],enumerable:!1,writable:!0}),Object.defineProperty(this,"_event",{value:new h(this),enumerable:!1,writable:!1}),arguments.length&&this.add.apply(this,arguments)}P.prototype.distance=function(t){if(!p(t))return this._distance;if(isNaN(t))throw new Error("Invalid distance");if(t<0)throw new Error("Illegal distance");return this._distance=t,this},P.prototype.stayInParentEdge=P.prototype.stayInParentElem=function(t){return p(t)?(this._stayInParentElem=!!t,this):this._stayInParentElem},["enabledAlignOuter","enabledAlignInner","enabledAlignCenter"].forEach(function(t){P.prototype[t]=function(e){return p(e)?(this["_"+t]=!!e,this):this["_"+t]}}),P.prototype.on=function(){return this._event.on.apply(this._event,arguments),this},P.prototype.off=function(){return this._event.off.apply(this._event,arguments),this},P.prototype.add=function(){var t=this,e=T(this._targets,arguments);return[window,document,document.body].forEach(function(t){if(-1!==e.indexOf(t))throw new Error("Illegal element")}),this.clear(),e.forEach(function(p,d){var m=e.concat(),b=!0;m.splice(d,1),h.on(p,v(l),function(e){var l=_(p),d=w(e),g=d.x,y=d.y,E=!1,T=e,x=null,j=null,I=_(O(p)),C=_(p.parentElement||p),M=[].concat(t._enabledAlignOuter?n:[],t._enabledAlignInner?r:[],t._enabledAlignCenter?o:[]),L=function(e){T=e;var n=w(e),r=n.x-g,o=n.y-y,u=l.x+r,f=l.y+o,c=e.ctrlKey?0:t._distance,s=null,d=null,b=e.ctrlKey?{}:P.nearby(_({top:f,right:u+l.width,bottom:f+l.height,left:u}),m)||{};(b.ranking||[]).reverse().forEach(function(e){if(-1===M.indexOf(e))b.ranking.splice(b.ranking.indexOf(e),1),delete b[e];else if(b[e][e]<=c){var n=b[e].target,r=n.rect,o=function(){return{type:e,element:n.element,rect:r}},i=function(e){(!t._stayInParentElem||e+l.width<=C.right)&&(u=e,s=o())},a=function(e){(!t._stayInParentElem||e+l.height<=C.bottom)&&(f=e,d=o())};switch(e){case"topToTop":return a(r.top);case"topToBottom":return a(r.bottom);case"rightToRight":return i(r.right-l.width);case"rightToLeft":return i(r.left-l.width);case"bottomToTop":return a(r.top-l.height);case"bottomToBottom":return a(r.bottom-l.height);case"leftToRight":return i(r.right);case"leftToLeft":return i(r.left);case"xCenter":return i((r.right+r.left-l.width)/2);case"yCenter":return a((r.top+r.bottom-l.height)/2)}}}),[s,d].forEach(function(t){if(t){var e=t.rect;switch(t.type){case"topToTop":case"bottomToTop":return t.position=e.top;case"topToBottom":case"bottomToBottom":return t.position=e.bottom;case"rightToRight":case"leftToRight":return t.position=e.right;case"rightToLeft":case"leftToLeft":return t.position=e.left;case"xCenter":return t.position=(e.right+e.left)/2;case"yCenter":return t.position=(e.top+e.bottom)/2}}});var v=!(!s&&!d),O=!1,L=!1,N=!1,A=!1,R=[],k=[],H=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e.element)return;t.push(e.element)};e.ctrlKey?(E&&(L=!0,x&&H(k,x),j&&H(k,j),A=!0),E=!1):v!==E?v?(O=!0,s&&H(R,s),d&&H(R,d),N=!0):(L=!0,x&&H(k,x),j&&H(k,j),A=!0):v&&([{curr:s,last:x},{curr:d,last:j}].forEach(function(t){var e=t.curr,n=t.last;e&&!n?H(R,e):!e&&n?H(k,n):e&&n&&(e.element!==n.element?(H(R,e),H(k,n)):e.type!==n.type&&H(R,e))}),(R.length||k.length)&&(O=!0,N=!0)),R.forEach(function(t){return h.trigger(t,"attracted",p)}),k.forEach(function(t){return h.trigger(t,i,p)}),O&&h.trigger(p,"attract",{x:s,y:d}),L&&h.trigger(p,"unattract",{x:x,y:j}),N&&t._event.trigger("magnetenter",{source:p,nearby:b,x:s,y:d}),A&&t._event.trigger(a,{source:p,nearby:b,x:x,y:j}),x=s,j=d,E=v,t._stayInParentElem&&(u=Math.max(C.left,Math.min(C.right-l.width,u)),f=Math.max(C.top,Math.min(C.bottom-l.height,f))),p.style.top=f-I.top+"px",p.style.left=u-I.left+"px"};h.off(document.body,v([].concat(u,f,c,s))),h.on(document.body,v([].concat(c,s)),function(t){b!==!t.ctrlKey&&(L({clientX:T.clientX,clientY:T.clientY,ctrlKey:t.ctrlKey}),b=!t.ctrlKey)}).on(document.body,v([].concat(f)),function(){x&&h.trigger(x.element,i),j&&h.trigger(j.element,i),h.trigger(p,"unattract"),t._event.trigger(a,{source:p}),h.off(document.body,v([].concat(u,f,c,s)))}).on(document.body,v(u),L)});var g=_(O(p)),y=_(p);p.style.position="absolute",p.style.top=y.top-g.top+"px",p.style.left=y.left-g.left+"px"}),this._targets=e,this},P.prototype.remove=function(){var t=this,e=T(arguments).map(function(e){return t._targets.indexOf(e)}).filter(function(t){return-1!==t}).sort(function(t,e){return e-t});if(e.length){var n=this._targets.concat();e.forEach(function(t){return n.splice(t,1)}),this.clear().add(n)}return this},P.prototype.clear=function(){return this._targets.forEach(function(t){return h.off(t,v(l))}),this._targets=[],h.off(document.body,v([].concat(u,f,c,s))),this},P.prototype.nearby=function(t){return P.nearby(t,this._targets)},P.isRect=function(t){return d(t)},P.stdRect=function(t){return _(t)},P.measure=function(t,e){return new x(t,e)},P.nearby=function(t,e){return new function(t){var e=this,n=T(Array.prototype.slice.call(arguments,1)),r=void 0,o=void 0;Object.defineProperty(this,"source",{value:Object.create(null),enumerable:!1}),m(t)&&(this.source.element=t),this.source.rect=t=_(t),n.forEach(function(n){var i=new x(t,n);y(i,function(t,n){(!e[n]||i[n]<e[n][n])&&(e[n]=i)}),(!p(r)||i[i.min]<e[r].min)&&(r=i.min),(!p(o)||e[o].max<i[i.max])&&(o=i.max)}),Object.defineProperty(this,"min",{value:r,enumerable:!1}),Object.defineProperty(this,"max",{value:o,enumerable:!1}),Object.defineProperty(this,"ranking",{value:g(this).sort(function(t,n){return e[n][n]-e[t][t]}),enumerable:!1})}(t,e)},e.exports=P,self&&self instanceof Object&&self.self===self&&(self.Magnet=P)}()},{"./lib/event-handler":1}]},{},[2]);
